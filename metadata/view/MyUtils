{
    "type": "class",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "myutils",
        "designer|userClassName": "MyUtils",
        "singleton": true
    },
    "designerId": "6f9e770b-0221-4811-a2b3-591369969fb6",
    "cn": [
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "getUserInfo",
                "implHandler": [
                    "var dataStore = Ext.getStore('UserStore');\r",
                    "dataStore.load();\r",
                    "var user = dataStore.getAt(0);\r",
                    "return user.data;\r",
                    ""
                ]
            },
            "designerId": "67509c91-e167-40a1-aa87-c910424952a2"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "getConsumerId",
                "implHandler": [
                    "var user = this.getUsetInfo();\r",
                    "return user.consumerId;\r",
                    ""
                ]
            },
            "designerId": "3b70e9ae-3c91-459d-9c46-2f2c808a4609"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "updateTaskCount",
                "implHandler": [
                    "// 取得tabBar中的shared对应的button\r",
                    "var sharedTab = Ext.getCmp('mainPanel').getComponent('mainTabBar').getAt(1);\r",
                    "var user = this.getUserInfo();\r",
                    "\r",
                    "Ext.Ajax.request({\r",
                    "    url: \"/weixin/mobile/getTaskCount.htm\",\r",
                    "    params: {\"consumerId\":user.consumerId},\r",
                    "    success: function(resp, ops) {\r",
                    "        var count = resp.responseText;\r",
                    "        if(count === '0')\r",
                    "            sharedTab.setBadgeText('');\r",
                    "        else\r",
                    "            sharedTab.setBadgeText(resp.responseText);\r",
                    "    }\r",
                    "});\r",
                    ""
                ]
            },
            "designerId": "e439ef49-71c5-4aaa-bd7d-c9ac771993bf"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "content"
                ],
                "fn": "copyToClipBoard",
                "implHandler": [
                    "var clipBoardContent=content;\r",
                    "if(window.clipboardData){\r",
                    "    window.clipboardData.clearData();\r",
                    "    window.clipboardData.setData(\"Text\", clipBoardContent);\r",
                    "} else if(navigator.userAgent.indexOf(\"Opera\") != -1){\r",
                    "    window.location = clipBoardContent;\r",
                    "} else if (window.netscape){\r",
                    "     try{\r",
                    "         netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\r",
                    "     }catch (e){\r",
                    "         alert(\"您的当前浏览器设置已关闭此功能！请按以下步骤开启此功能！/n新开一个浏览器，在浏览器地址栏输入'about:config'并回车。/n然后找到'signed.applets.codebase_principal_support'项，双击后设置为'true'。/n声明：本功能不会危极您计算机或数据的安全！\");\r",
                    "     }\r",
                    "    var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);\r",
                    "    if (!clip) return;\r",
                    "    var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);\r",
                    "    if (!trans) return;\r",
                    "    trans.addDataFlavor('text/unicode');\r",
                    "    var str = new Object();\r",
                    "    var len = new Object();\r",
                    "    var str = Components.classes[\"@mozilla.org/supports-string;1\"].createInstance(Components.interfaces.nsISupportsString);\r",
                    "    var copytext = clipBoardContent;\r",
                    "    str.data = copytext;\r",
                    "    trans.setTransferData(\"text/unicode\",str,copytext.length*2);\r",
                    "    var clipid = Components.interfaces.nsIClipboard;\r",
                    "    if (!clip) return false;\r",
                    "    clip.setData(trans,null,clipid.kGlobalClipboard);\r",
                    "}\r",
                    "alert(\"已成功复制！\");\r",
                    "return true;"
                ]
            },
            "designerId": "67070bc1-ab08-4d3d-9240-acc46e45cca1"
        }
    ]
}